<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Nazeer Gaming Club - Match Maker</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'primary': '#3b82f6',
            'secondary': '#8b5cf6',
            'accent': '#f59e0b',
            'success': '#10b981',
            'danger': '#ef4444',
            'light': '#f8fafc',
            'card': '#ffffff',
            'text-dark': '#1e293b',
            'text-light': '#64748b'
          },
          animation: {
            'float-up': 'floatUp 0.8s ease-out',
            'thunder': 'thunder 0.5s ease-in-out',
            'pulse-glow': 'pulseGlow 2s infinite',
            'fade-in': 'fadeIn 0.5s ease-out',
            'slide-in': 'slideIn 0.6s ease-out',
            'slide-up': 'slideUp 0.4s ease-out',
            'bounce-in': 'bounceIn 0.6s ease-out',
            'glow': 'glow 2s infinite alternate',
            'shimmer': 'shimmer 2s infinite',
            'scale-in': 'scaleIn 0.3s ease-out',
            'card-enter': 'cardEnter 0.4s ease-out',
            'rainbow': 'rainbow 4s linear infinite'
          },
          keyframes: {
            floatUp: {
              '0%': { transform: 'translateY(40px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' }
            },
            thunder: {
              '0%, 100%': { transform: 'scale(1)', filter: 'brightness(1)' },
              '50%': { transform: 'scale(1.08)', filter: 'brightness(1.8)' }
            },
            pulseGlow: {
              '0%, 100%': { 
                boxShadow: '0 0 25px rgba(59, 130, 246, 0.4)',
                transform: 'scale(1)'
              },
              '50%': { 
                boxShadow: '0 0 45px rgba(59, 130, 246, 0.7)',
                transform: 'scale(1.02)'
              }
            },
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' }
            },
            slideIn: {
              '0%': { transform: 'translateX(-30px)', opacity: '0' },
              '100%': { transform: 'translateX(0)', opacity: '1' }
            },
            slideUp: {
              '0%': { transform: 'translateY(20px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' }
            },
            bounceIn: {
              '0%': { transform: 'scale(0.8)', opacity: '0' },
              '50%': { transform: 'scale(1.05)', opacity: '0.8' },
              '100%': { transform: 'scale(1)', opacity: '1' }
            },
            glow: {
              '0%': { boxShadow: '0 0 10px rgba(59, 130, 246, 0.3)' },
              '100%': { boxShadow: '0 0 25px rgba(59, 130, 246, 0.7)' }
            },
            shimmer: {
              '0%': { backgroundPosition: '-1000px 0' },
              '100%': { backgroundPosition: '1000px 0' }
            },
            scaleIn: {
              '0%': { transform: 'scale(0.9)', opacity: '0' },
              '100%': { transform: 'scale(1)', opacity: '1' }
            },
            cardEnter: {
              '0%': { transform: 'translateY(30px) scale(0.95)', opacity: '0' },
              '100%': { transform: 'translateY(0) scale(1)', opacity: '1' }
            },
            rainbow: {
              '0%, 100%': { backgroundPosition: '0% 50%' },
              '50%': { backgroundPosition: '100% 50%' }
            }
          },
          transitionProperty: {
            'height': 'height',
            'spacing': 'margin, padding',
          }
        }
      }
    }
  </script>
  <style>
    body {
      background: linear-gradient(135deg, #e0f2fe 0%, #f0f9ff 100%);
      font-family: 'Segoe UI', system-ui, sans-serif;
      min-height: 100vh;
      overflow-x: hidden;
      color: #1e293b;
    }
    
    /* Smooth transitions */
    * {
      transition: background-color 0.3s ease, border-color 0.3s ease, transform 0.3s ease, opacity 0.3s ease, box-shadow 0.3s ease;
    }
    
    .floating-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(255, 255, 255, 0.95);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      animation: fadeIn 0.4s ease-out;
      backdrop-filter: blur(10px);
    }
    
    .floating-screen.hidden {
      animation: fadeIn 0.4s ease-out reverse;
    }
    
    .match-card {
      background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
      border-radius: 24px;
      box-shadow: 
        0 20px 60px rgba(0, 0, 0, 0.08),
        0 10px 30px rgba(0, 0, 0, 0.05),
        inset 0 1px 0 rgba(255, 255, 255, 0.8);
      overflow: hidden;
      border: 1px solid rgba(59, 130, 246, 0.15);
      position: relative;
    }
    
    .match-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #3b82f6, #8b5cf6, #f59e0b, #10b981, #3b82f6);
      background-size: 300% 100%;
      animation: rainbow 3s linear infinite;
    }
    
    .player-card {
      background: linear-gradient(145deg, #ffffff 0%, #f1f5f9 100%);
      border-radius: 16px;
      border: 1px solid rgba(203, 213, 225, 0.5);
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    }
    
    .player-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.08), transparent);
      transform: translateX(-100%);
    }
    
    .player-card:hover::before {
      transform: translateX(100%);
      transition: transform 0.8s ease;
    }
    
    .player-card:hover {
      transform: translateY(-4px);
      box-shadow: 
        0 15px 35px rgba(0, 0, 0, 0.1),
        0 0 20px rgba(59, 130, 246, 0.15);
      border-color: rgba(59, 130, 246, 0.3);
    }
    
    .btn-primary {
      background: linear-gradient(145deg, #3b82f6 0%, #2563eb 100%);
      position: relative;
      overflow: hidden;
      transform-style: preserve-3d;
      perspective: 1000px;
      box-shadow: 0 6px 20px rgba(59, 130, 246, 0.3);
    }
    
    .btn-primary::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transform: translateX(-100%);
    }
    
    .btn-primary:hover::before {
      transform: translateX(100%);
      transition: transform 0.8s ease;
    }
    
    .btn-primary:hover {
      transform: translateY(-3px) scale(1.02);
      box-shadow: 
        0 15px 30px rgba(59, 130, 246, 0.4),
        0 0 30px rgba(59, 130, 246, 0.3);
    }
    
    .btn-success {
      background: linear-gradient(145deg, #10b981 0%, #059669 100%);
      box-shadow: 0 6px 20px rgba(16, 185, 129, 0.3);
    }
    
    .btn-success:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(16, 185, 129, 0.4);
    }
    
    .btn-danger {
      background: linear-gradient(145deg, #ef4444 0%, #dc2626 100%);
      box-shadow: 0 6px 20px rgba(239, 68, 68, 0.3);
    }
    
    .btn-danger:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(239, 68, 68, 0.4);
    }
    
    /* Enhanced player name styling */
    .player-name {
      position: relative;
      padding-left: 24px;
    }
    
    .player-name::before {
      content: '';
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: #3b82f6;
      animation: pulseGlow 2s infinite;
    }
    
    /* Custom scrollbar for light theme */
    ::-webkit-scrollbar {
      width: 10px;
    }
    
    ::-webkit-scrollbar-track {
      background: rgba(241, 245, 249, 0.8);
      border-radius: 10px;
    }
    
    ::-webkit-scrollbar-thumb {
      background: linear-gradient(to bottom, #3b82f6, #8b5cf6);
      border-radius: 10px;
      border: 2px solid #f1f5f9;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: linear-gradient(to bottom, #2563eb, #7c3aed);
    }
    
    /* Floating screen exit animation */
    @keyframes floatExit {
      0% {
        transform: translateY(0) scale(1);
        opacity: 1;
      }
      100% {
        transform: translateY(-100px) scale(0.9);
        opacity: 0;
      }
    }
    
    /* Name transfer animation */
    @keyframes nameTransfer {
      0% {
        transform: scale(1) translateY(0);
        opacity: 1;
      }
      50% {
        transform: scale(1.2) translateY(-20px);
        opacity: 0.7;
      }
      100% {
        transform: scale(1) translateY(0);
        opacity: 1;
      }
    }
    
    /* Smooth loading animation */
    .animate-on-scroll {
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.6s ease-out;
    }
    
    .animate-on-scroll.visible {
      opacity: 1;
      transform: translateY(0);
    }
    
    /* Gradient text */
    .gradient-text {
      background: linear-gradient(90deg, #3b82f6, #8b5cf6, #f59e0b);
      background-size: 300% 300%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: rainbow 4s ease infinite;
    }
    
    /* Ripple animation */
    @keyframes ripple {
      to {
        transform: scale(4);
        opacity: 0;
      }
    }
    
    /* Glass effect */
    .glass-effect {
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    /* Status badges */
    .badge-available {
      background: linear-gradient(135deg, #dbeafe, #bfdbfe);
      color: #1e40af;
      border: 1px solid #93c5fd;
    }
    
    .badge-matched {
      background: linear-gradient(135deg, #dcfce7, #bbf7d0);
      color: #166534;
      border: 1px solid #86efac;
    }
    
    /* Input styling */
    .input-light {
      background: rgba(255, 255, 255, 0.9);
      border: 2px solid #e2e8f0;
      color: #1e293b;
    }
    
    .input-light:focus {
      background: white;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }
    
    /* Card hover effects */
    .hover-lift {
      transition: all 0.3s ease;
    }
    
    .hover-lift:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }
  </style>
</head>
<body class="p-4 md:p-6">
  <!-- Floating Match Screen -->
  <div id="floatingScreen" class="floating-screen hidden">
    <div class="text-center p-6 md:p-8 animate-scale-in">
      <div class="text-4xl md:text-6xl font-bold mb-6 md:mb-8 gradient-text">
        ðŸŽ‰ MATCH CREATED! ðŸŽ‰
      </div>
      
      <div class="flex flex-col md:flex-row items-center justify-center gap-6 md:gap-8 mb-8 md:mb-12">
        <!-- Player 1 -->
        <div class="animate-thunder">
          <div class="text-xl md:text-2xl text-gray-600 mb-2 font-medium">Player 1</div>
          <div id="floatPlayer1" class="text-3xl md:text-5xl font-bold bg-gradient-to-r from-primary to-blue-400 text-white p-5 md:p-6 rounded-2xl border-2 border-blue-300 min-w-[180px] md:min-w-[220px] shadow-2xl">
            <!-- Player 1 name -->
          </div>
        </div>
        
        <!-- VS -->
        <div class="text-3xl md:text-4xl font-bold text-accent animate-pulse my-4 md:my-0 bg-gradient-to-r from-accent to-orange-400 text-transparent bg-clip-text">
          VS
        </div>
        
        <!-- Player 2 -->
        <div class="animate-thunder">
          <div class="text-xl md:text-2xl text-gray-600 mb-2 font-medium">Player 2</div>
          <div id="floatPlayer2" class="text-3xl md:text-5xl font-bold bg-gradient-to-r from-success to-emerald-400 text-white p-5 md:p-6 rounded-2xl border-2 border-emerald-300 min-w-[180px] md:min-w-[220px] shadow-2xl">
            <!-- Player 2 name -->
          </div>
        </div>
      </div>
      
      <div class="text-lg md:text-xl text-gray-600 mb-6 font-medium">
        Match will close in <span id="countdown" class="font-bold text-primary">3</span>s
      </div>
      
      <button onclick="closeFloatingScreen()" 
              class="px-8 py-3 bg-gradient-to-r from-secondary to-purple-500 text-white rounded-xl text-lg md:text-xl font-bold mt-4 hover:opacity-90 transition-all transform hover:scale-105 shadow-lg">
        CONTINUE NOW
      </button>
    </div>
  </div>

  <!-- Main Content -->
  <div class="max-w-6xl mx-auto">
    <!-- Header -->
    <div class="text-center mb-8 animate-float-up">
      <h1 class="text-4xl md:text-5xl font-bold gradient-text mb-2">
        Nazeer Gaming Club
      </h1>
      <div class="h-1 w-32 md:w-48 bg-gradient-to-r from-primary to-secondary mx-auto rounded-full mb-2"></div>
      <p class="text-gray-600 text-lg font-medium">By Ali Abbas</p>
    </div>

    <!-- Main Match Card -->
    <div class="match-card p-6 mb-8 animate-card-enter hover-lift">
      <!-- Match Button - Always First -->
      <div class="text-center mb-8 animate-pulse">
        <button id="createMatchBtn" onclick="createMatch()" 
                class="px-8 md:px-12 py-4 md:py-5 btn-primary text-white rounded-2xl text-xl md:text-2xl font-bold w-full max-w-md animate-pulse-glow transform hover:scale-[1.02] active:scale-[0.98]">
          <i class="fas fa-bolt mr-3 animate-pulse"></i>
          CREATE MATCH
        </button>
      </div>
      
      <!-- Match Result -->
      <div class="bg-gradient-to-br from-blue-50 to-gray-50 rounded-2xl p-6 mb-6 animate-slide-up border border-blue-100">
        <div class="flex flex-col md:flex-row items-center justify-between gap-6">
          <!-- Player 1 -->
          <div class="text-center flex-1 animate-slide-in" style="animation-delay: 0.1s">
            <div class="text-lg text-gray-600 mb-3 flex items-center justify-center gap-2 font-medium">
              <i class="fas fa-user-circle text-primary"></i>
              <span>Player 1</span>
            </div>
            <div id="player1" class="text-2xl md:text-3xl font-bold p-5 rounded-xl bg-white min-h-[70px] flex items-center justify-center border-2 border-blue-100 shadow-inner transition-all duration-300 hover:border-primary/50">
              <span class="text-gray-400">Waiting...</span>
            </div>
          </div>
          
          <!-- VS -->
          <div class="text-3xl md:text-4xl font-bold text-accent px-4 animate-bounce-in" style="animation-delay: 0.2s">
            VS
          </div>
          
          <!-- Player 2 -->
          <div class="text-center flex-1 animate-slide-in" style="animation-delay: 0.3s; animation-direction: reverse">
            <div class="text-lg text-gray-600 mb-3 flex items-center justify-center gap-2 font-medium">
              <i class="fas fa-user-circle text-success"></i>
              <span>Player 2</span>
            </div>
            <div id="player2" class="text-2xl md:text-3xl font-bold p-5 rounded-xl bg-white min-h-[70px] flex items-center justify-center border-2 border-emerald-100 shadow-inner transition-all duration-300 hover:border-success/50">
              <span class="text-gray-400">Waiting...</span>
            </div>
          </div>
        </div>
        
        <!-- Match Info -->
        <div class="mt-8 text-center animate-fade-in" style="animation-delay: 0.4s">
          <div class="inline-flex flex-wrap items-center justify-center gap-4">
            <div class="glass-effect px-4 py-3 rounded-xl border border-blue-100 shadow-lg transform hover:scale-105 transition-transform">
              <span class="text-gray-600">Match</span>
              <span id="matchNumber" class="font-bold text-primary ml-2 text-2xl">0</span>
            </div>
            <div class="glass-effect px-4 py-3 rounded-xl border border-blue-100 shadow-lg transform hover:scale-105 transition-transform">
              <span class="text-gray-600">Available</span>
              <span id="availableCount" class="font-bold text-primary ml-2 text-2xl">0</span>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Session Controls -->
      <div class="flex flex-wrap gap-4 justify-center animate-fade-in" style="animation-delay: 0.5s">
        <button onclick="resetSession()" 
                class="px-6 py-3 btn-danger text-white rounded-xl flex items-center gap-2 transform hover:scale-105 active:scale-95">
          <i class="fas fa-redo animate-spin"></i> Reset Session
        </button>
        <button onclick="newSession()" 
                class="px-6 py-3 bg-gradient-to-r from-secondary to-purple-500 text-white rounded-xl flex items-center gap-2 transform hover:scale-105 active:scale-95">
          <i class="fas fa-plus-circle"></i> New Session
        </button>
      </div>
    </div>

    <!-- Players Management Card -->
    <div class="match-card p-6 animate-card-enter hover-lift" style="animation-delay: 0.2s">
      <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6">
        <h2 class="text-2xl font-bold flex items-center gap-3">
          <div class="w-10 h-10 rounded-full bg-gradient-to-r from-primary/20 to-blue-100 flex items-center justify-center">
            <i class="fas fa-users text-primary"></i>
          </div>
          <span class="gradient-text">Players</span>
        </h2>
        <div class="flex gap-3">
          <button onclick="addDefaultNames()" 
                  class="px-4 py-2 btn-success text-white rounded-lg flex items-center gap-2 transform hover:scale-105 active:scale-95">
            <i class="fas fa-user-plus"></i> Add Default
          </button>
          <button onclick="deleteAllNames()" 
                  class="px-4 py-2 btn-danger text-white rounded-lg flex items-center gap-2 transform hover:scale-105 active:scale-95">
            <i class="fas fa-trash"></i> Clear All
          </button>
        </div>
      </div>
      
      <!-- Add Player -->
      <div class="flex gap-2 mb-6 animate-slide-up" style="animation-delay: 0.3s">
        <div class="flex-1 relative">
          <input id="nameInput" type="text" placeholder="Add player name..." 
                 class="w-full px-4 py-3 input-light rounded-xl focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/30 text-lg pl-12 transition-all"
                 onkeypress="if(event.key === 'Enter') addName()">
          <i class="fas fa-user absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
          <div class="absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-gray-500">
            Press Enter
          </div>
        </div>
        <button onclick="addName()" 
                class="px-6 py-3 btn-primary text-white rounded-xl font-semibold transform hover:scale-105 active:scale-95">
          <i class="fas fa-plus"></i> Add
        </button>
      </div>
      
      <!-- Players List -->
      <div id="nameList" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-h-[500px] overflow-y-auto p-3">
        <!-- Players will appear here -->
      </div>
    </div>
  </div>

  <!-- Audio for Effects -->
  <audio id="clickSound" src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3" preload="auto"></audio>
  <audio id="matchSound" src="https://apiflair.com/brass-fanfare-with-timpani-and-winchimes-reverberated-146260.mp3" preload="auto"></audio>
  <audio id="hoverSound" src="https://assets.mixkit.co/sfx/preview/mixkit-mouse-click-1102.mp3" preload="auto"></audio>

  <script>
    // Default club members
    const defaultNames = [
      "Ali Abbas", "Ali Murtaza", "Afaq", "Afaq Patura", 
      "Akhtar Bora", "Noor Hassan", "Shahnawaz", "Yasir", 
      "Tanveer", "Zaheer", "Raees", "Zeeshan"
    ];
    
    // Active data
    let allPlayers = [];
    let availablePlayers = [];
    let matchedPlayers = [];
    let matchCounter = 0;
    let autoCloseTimer = null;
    let countdownInterval = null;
    
    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      updateCounts();
      initAnimations();
      
      // Add hover sound to buttons
      document.querySelectorAll('button').forEach(button => {
        button.addEventListener('mouseenter', () => {
          playSound('hoverSound', 0.1);
        });
      });
      
      // Add ripple effect to buttons
      document.querySelectorAll('button').forEach(button => {
        button.addEventListener('click', function(e) {
          const ripple = document.createElement('span');
          const rect = this.getBoundingClientRect();
          const size = Math.max(rect.width, rect.height);
          const x = e.clientX - rect.left - size / 2;
          const y = e.clientY - rect.top - size / 2;
          
          ripple.style.cssText = `
            position: absolute;
            border-radius: 50%;
            background: rgba(59, 130, 246, 0.2);
            transform: scale(0);
            animation: ripple 0.6s linear;
            width: ${size}px;
            height: ${size}px;
            top: ${y}px;
            left: ${x}px;
            pointer-events: none;
          `;
          
          this.appendChild(ripple);
          setTimeout(() => ripple.remove(), 600);
        });
      });
    });
    
    // Initialize animations
    function initAnimations() {
      // Animate elements on scroll
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
          }
        });
      }, { threshold: 0.1 });
      
      document.querySelectorAll('.animate-on-scroll').forEach(el => {
        observer.observe(el);
      });
    }
    
    // Play sound
    function playSound(soundId, volume = 0.5) {
      try {
        const sound = document.getElementById(soundId);
        sound.volume = volume;
        sound.currentTime = 0;
        sound.play().catch(e => console.log("Sound play failed"));
      } catch (e) {
        console.log("Sound error");
      }
    }
    
    // Show floating match screen
    function showFloatingScreen(player1, player2) {
      const screen = document.getElementById('floatingScreen');
      const floatPlayer1 = document.getElementById('floatPlayer1');
      const floatPlayer2 = document.getElementById('floatPlayer2');
      
      floatPlayer1.textContent = player1;
      floatPlayer2.textContent = player2;
      
      screen.classList.remove('hidden');
      playSound('matchSound', 0.3);
      
      // Start countdown
      let countdown = 3;
      const countdownEl = document.getElementById('countdown');
      countdownEl.textContent = countdown;
      
      countdownInterval = setInterval(() => {
        countdown--;
        countdownEl.textContent = countdown;
        
        if (countdown <= 0) {
          closeFloatingScreen();
        }
      }, 1000);
      
      // Set auto-close timer
      autoCloseTimer = setTimeout(() => {
        closeFloatingScreen();
      }, 3000);
    }
    
    // Close floating screen with animation
    function closeFloatingScreen() {
      clearTimeout(autoCloseTimer);
      clearInterval(countdownInterval);
      
      const screen = document.getElementById('floatingScreen');
      const player1El = document.getElementById('player1');
      const player2El = document.getElementById('player2');
      
      // Animate the transfer of names
      player1El.style.animation = 'nameTransfer 0.6s ease-out';
      player2El.style.animation = 'nameTransfer 0.6s ease-out';
      
      // Hide screen with animation
      screen.style.animation = 'floatExit 0.5s ease-out forwards';
      
      setTimeout(() => {
        screen.classList.add('hidden');
        screen.style.animation = '';
        player1El.style.animation = '';
        player2El.style.animation = '';
      }, 500);
    }
    
    // Create a match
    function createMatch() {
      playSound('clickSound', 0.3);
      
      // Button animation
      const btn = document.getElementById('createMatchBtn');
      btn.style.transform = 'scale(0.95)';
      setTimeout(() => {
        btn.style.transform = '';
      }, 150);
      
      if (availablePlayers.length < 2) {
        alert(`Need at least 2 players! Available: ${availablePlayers.length}`);
        return;
      }
      
      // Pick two random players
      const index1 = Math.floor(Math.random() * availablePlayers.length);
      const player1 = availablePlayers.splice(index1, 1)[0];
      
      const index2 = Math.floor(Math.random() * availablePlayers.length);
      const player2 = availablePlayers.splice(index2, 1)[0];
      
      // Add to matched players
      matchedPlayers.push(player1, player2);
      
      // Increment match counter
      matchCounter++;
      
      // Animate main card update
      const player1El = document.getElementById('player1');
      const player2El = document.getElementById('player2');
      
      // First clear with animation
      player1El.style.opacity = '0';
      player2El.style.opacity = '0';
      
      setTimeout(() => {
        // Update content
        player1El.innerHTML = `
          <div class="player-name animate-slide-in font-bold text-gray-800">${player1}</div>
        `;
        player2El.innerHTML = `
          <div class="player-name animate-slide-in font-bold text-gray-800" style="animation-delay: 0.1s">${player2}</div>
        `;
        
        // Fade in
        player1El.style.opacity = '1';
        player2El.style.opacity = '1';
        
        // Update match number with animation
        const matchNumEl = document.getElementById('matchNumber');
        matchNumEl.style.transform = 'scale(1.2)';
        matchNumEl.textContent = matchCounter;
        setTimeout(() => {
          matchNumEl.style.transform = 'scale(1)';
        }, 200);
        
        // Show floating screen
        showFloatingScreen(player1, player2);
        
        // Update counts
        updateCounts();
        
        // Update player list
        updateList();
      }, 300);
    }
    
    // Add default names with animation
    function addDefaultNames() {
      playSound('clickSound', 0.3);
      
      let addedCount = 0;
      defaultNames.forEach(name => {
        if (!allPlayers.includes(name)) {
          allPlayers.push(name);
          addedCount++;
        }
      });
      
      if (addedCount > 0) {
        availablePlayers = [...allPlayers];
        updateList();
        
        // Show success animation
        const btn = event.target.closest('button');
        btn.innerHTML = `<i class="fas fa-check"></i> ${addedCount} Added`;
        btn.classList.add('bg-green-500');
        
        setTimeout(() => {
          btn.innerHTML = `<i class="fas fa-user-plus"></i> Add Default`;
          btn.classList.remove('bg-green-500');
        }, 1000);
      }
    }
    
    // Add a single name with animation
    function addName() {
      playSound('clickSound', 0.3);
      
      const input = document.getElementById('nameInput');
      const name = input.value.trim();
      
      if (name) {
        if (allPlayers.includes(name)) {
          // Show warning animation
          input.style.borderColor = '#ef4444';
          input.style.boxShadow = '0 0 0 3px rgba(239, 68, 68, 0.1)';
          input.style.transform = 'translateX(10px)';
          setTimeout(() => {
            input.style.borderColor = '';
            input.style.boxShadow = '';
            input.style.transform = '';
          }, 300);
          
          alert(`${name} is already in the list!`);
          input.value = '';
          return;
        }
        
        allPlayers.push(name);
        availablePlayers.push(name);
        
        // Animate input
        input.style.transform = 'scale(0.95)';
        setTimeout(() => {
          input.style.transform = '';
          input.value = '';
          input.focus();
          updateList();
        }, 150);
      }
    }
    
    // Delete a single name with animation
    function deleteName(index) {
      playSound('clickSound', 0.3);
      
      const name = allPlayers[index];
      const playerEl = event.target.closest('.player-card');
      
      // Animate removal
      playerEl.style.transform = 'translateX(-100%)';
      playerEl.style.opacity = '0';
      
      setTimeout(() => {
        allPlayers.splice(index, 1);
        
        // Remove from available players
        const availIndex = availablePlayers.indexOf(name);
        if (availIndex !== -1) {
          availablePlayers.splice(availIndex, 1);
        }
        
        // Remove from matched players
        const matchedIndex = matchedPlayers.indexOf(name);
        if (matchedIndex !== -1) {
          matchedPlayers.splice(matchedIndex, 1);
        }
        
        updateList();
        updateCounts();
      }, 300);
    }
    
    // Delete all names
    function deleteAllNames() {
      playSound('clickSound', 0.3);
      
      if (allPlayers.length === 0) return;
      
      if (confirm(`Remove all ${allPlayers.length} players?`)) {
        // Animate all player cards out
        const playerCards = document.querySelectorAll('.player-card');
        playerCards.forEach((card, i) => {
          card.style.transform = `translateX(${i % 2 === 0 ? '-' : ''}100%)`;
          card.style.opacity = '0';
        });
        
        setTimeout(() => {
          allPlayers = [];
          availablePlayers = [];
          matchedPlayers = [];
          matchCounter = 0;
          updateList();
          clearMatchDisplay();
        }, 500);
      }
    }
    
    // Reset session
    function resetSession() {
      playSound('clickSound', 0.3);
      
      if (allPlayers.length === 0) return;
      
      // Animate button
      const btn = event.target.closest('button');
      btn.style.transform = 'rotate(180deg)';
      
      setTimeout(() => {
        availablePlayers = [...allPlayers];
        matchedPlayers = [];
        matchCounter = 0;
        updateCounts();
        clearMatchDisplay();
        btn.style.transform = '';
        
        // Animate all matched players back to available
        updateList();
      }, 300);
    }
    
    // New session
    function newSession() {
      playSound('clickSound', 0.3);
      
      if (allPlayers.length === 0) return;
      
      if (confirm('Start new session? This will remove all players.')) {
        // Animate all cards out
        const container = document.getElementById('nameList');
        container.style.opacity = '0';
        container.style.transform = 'scale(0.9)';
        
        setTimeout(() => {
          allPlayers = [];
          availablePlayers = [];
          matchedPlayers = [];
          matchCounter = 0;
          updateList();
          clearMatchDisplay();
          
          container.style.opacity = '1';
          container.style.transform = '';
        }, 300);
      }
    }
    
    // Clear match display
    function clearMatchDisplay() {
      const player1El = document.getElementById('player1');
      const player2El = document.getElementById('player2');
      
      player1El.style.opacity = '0';
      player2El.style.opacity = '0';
      
      setTimeout(() => {
        player1El.innerHTML = '<span class="text-gray-400">Waiting...</span>';
        player2El.innerHTML = '<span class="text-gray-400">Waiting...</span>';
        document.getElementById('matchNumber').textContent = '0';
        
        player1El.style.opacity = '1';
        player2El.style.opacity = '1';
      }, 300);
    }
    
    // Update players list with animations
    function updateList() {
      const container = document.getElementById('nameList');
      const currentCount = container.children.length;
      
      // Fade out container
      container.style.opacity = '0.5';
      
      setTimeout(() => {
        container.innerHTML = '';
        
        if (allPlayers.length === 0) {
          container.innerHTML = `
            <div class="col-span-4 text-center py-12 text-gray-500 animate-fade-in">
              <div class="w-20 h-20 rounded-full bg-gradient-to-r from-blue-50 to-gray-50 flex items-center justify-center mx-auto mb-4 animate-pulse border-2 border-dashed border-blue-200">
                <i class="fas fa-users text-3xl text-blue-300"></i>
              </div>
              <p class="text-lg mb-2 text-gray-600 font-medium">No players added</p>
              <p class="text-sm text-gray-500">Add default players or enter new names</p>
            </div>
          `;
        } else {
          allPlayers.forEach((name, index) => {
            const isAvailable = availablePlayers.includes(name);
            const isMatched = matchedPlayers.includes(name);
            
            const playerEl = document.createElement('div');
            playerEl.className = `player-card p-4 flex justify-between items-center animate-card-enter`;
            playerEl.style.animationDelay = `${index * 0.05}s`;
            
            playerEl.innerHTML = `
              <div class="flex items-center gap-4 overflow-hidden flex-1">
                <div class="w-10 h-10 rounded-full flex items-center justify-center ${
                  isMatched ? 'bg-gradient-to-r from-green-100 to-emerald-100 text-green-700' : 'bg-gradient-to-r from-blue-100 to-indigo-100 text-primary'
                } font-bold text-lg relative shadow-sm">
                  ${index + 1}
                  ${isMatched ? '<div class="absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white"></div>' : ''}
                </div>
                <div class="overflow-hidden flex-1">
                  <div class="font-semibold text-lg truncate flex items-center gap-2 text-gray-800">
                    <span class="player-name">${name}</span>
                    ${isMatched ? 
                      '<span class="badge-matched text-xs px-2 py-1 rounded-full font-medium">Matched</span>' : 
                      '<span class="badge-available text-xs px-2 py-1 rounded-full font-medium">Available</span>'}
                  </div>
                  <div class="text-xs text-gray-500 mt-1">
                    ${isMatched ? 'Already played' : 'Ready to play'}
                  </div>
                </div>
              </div>
              <button onclick="deleteName(${index})" 
                      class="w-10 h-10 flex items-center justify-center bg-gradient-to-r from-red-50 to-pink-50 text-red-500 rounded-full hover:bg-red-500 hover:text-white transition-all ml-2 shadow-sm">
                <i class="fas fa-times"></i>
              </button>
            `;
            
            container.appendChild(playerEl);
          });
        }
        
        // Fade in container
        container.style.opacity = '1';
        container.style.transform = 'scale(1)';
        
        updateCounts();
      }, 200);
    }
    
    // Update counts with animation
    function updateCounts() {
      const availableEl = document.getElementById('availableCount');
      const currentVal = parseInt(availableEl.textContent);
      const newVal = availablePlayers.length;
      
      // Animate count change
      if (currentVal !== newVal) {
        availableEl.style.transform = 'scale(1.3)';
        availableEl.style.color = newVal > currentVal ? '#10b981' : '#ef4444';
        
        setTimeout(() => {
          availableEl.textContent = newVal;
          availableEl.style.transform = 'scale(1)';
          
          setTimeout(() => {
            availableEl.style.color = '#3b82f6';
          }, 500);
        }, 150);
      } else {
        availableEl.textContent = newVal;
      }
    }
  </script>
</body>
</html>
